<VirtualHost *:80>
    ServerAdmin hortonew@gmail.com.com
    ServerName 35.91.170.232
    DocumentRoot /usr/local/nagios/share
    ScriptAlias /nagios/cgi-bin "/usr/local/nagios/sbin"

    ErrorLog ${APACHE_LOG_DIR}/nagios_error.log
    CustomLog ${APACHE_LOG_DIR}/nagios_access.log combined


    <Directory "/usr/local/nagios/sbin">
        Options ExecCGI
        AllowOverride None
        <IfVersion >= 2.3>
            <RequireAll>
                Require all granted

                AuthName "Nagios Access"
                AuthType Basic
                AuthUserFile /usr/local/nagios/etc/htpasswd.users
                Require valid-user
            </RequireAll>
        </IfVersion>
        <IfVersion < 2.3>
            Order allow,deny
            Allow from all

            AuthName "Nagios Access"
            AuthType Basic
            AuthUserFile /usr/local/nagios/etc/htpasswd.users
            Require valid-user
        </IfVersion>
    </Directory>

    Alias /nagios "/usr/local/nagios/share"

    <Directory "/usr/local/nagios/share">
        Options None
        AllowOverride None
        <IfVersion >= 2.3>
            <RequireAll>
                Require all granted

                AuthName "Nagios Access"
                AuthType Basic
                AuthUserFile /usr/local/nagios/etc/htpasswd.users
                Require valid-user
            </RequireAll>
        </IfVersion>
        <IfVersion < 2.3>
            Order allow,deny
            Allow from all

            AuthName "Nagios Access"
            AuthType Basic
            AuthUserFile /usr/local/nagios/etc/htpasswd.users
            Require valid-user
        </IfVersion>
    </Directory>

</VirtualHost>